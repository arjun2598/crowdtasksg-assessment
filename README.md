# Running the application

## Pre-requisites

Make sure the following are installed on your device:
- Node.js (Run `node -v` in your terminal to check installation; Download from [here](https://nodejs.org/en) if it is not installed)
- PostgreSQL (Install PostgreSQL by following the instructions [here](https://www.postgresql.org/download/) if you do not have it installed)

## Steps to run locally
1. Clone the repository to your device using Git: `git clone https://github.com/arjun2598/crowdtasksg-assessment.git`
2. Navigate to the project folder on your device: `cd crowdtasksg-assessment`
3. Install the required dependencies: `npm install`
4. Set up the sample PostgreSQL database:
   - Create your database if you have not done so.
   - Run the command `psql -U your_postgres_user -h localhost -p 5432 -d your_database_name` to connect to your database,
    replacing the placeholder values with your credentials.
   - Run the command `\i db.sql` to run the provided SQL script to create the sample table and add some sample users.
     Note that all sample users have been initalised with the password `password123`
6. Create a .env file in the **backend** folder to set up the required environment variables:
   - ```PG_USER = 'your_username'
      PG_PASSWORD = 'your_password'
      PG_HOST = 'localhost'
      PG_PORT = '5432'
      PG_DATABASE = 'your_database'
      
      JWT_SECRET = your_secret```
   - The PG variables correspond to your database and should be replaced with your credentials
   - The JWT_SECRET variable is the secret key with which your json web tokens will be generated. This variable can be generated by running 
     `node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"`, which uses the crypto module in node.js to generate a random 64-byte hexadecimal string
7. Navigate to the **backend** folder using `cd backend` from the parent folder and run the command `npm start` to start running the server.
8. Navigate to the **app** folder within the frontend folder using `cd frontend/app` from the parent folder and run the command `npm run dev` to launch the app.
The app will be available at http://localhost:5173/ 
