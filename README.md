# Running the application

## Pre-requisites

Make sure the following are installed on your device:
- Node.js (Run `node -v` in your terminal to check installation; Download from [here](https://nodejs.org/en) if it is not installed)
- PostgreSQL (Install PostgreSQL by following the instructions [here](https://www.postgresql.org/download/) if you do not have it installed)

## Steps to run locally
1. Clone the repository to your device using Git: `git clone https://github.com/arjun2598/crowdtasksg-assessment.git`.
2. Navigate to the project folder on your device: `cd crowdtasksg-assessment`.
3. Install the required dependencies: `npm install`.
4. Set up the sample PostgreSQL database: 
   - Create your database if you have not done so. 
   - Connect to your database and run the db.sql script provided in the **Setup** folder.
   - Note that all sample users have been initalised with the password `password123`.
6. Create a .env file in the **backend** folder to set up the required environment variables:
   - ```PG_USER = 'your_username'
      PG_PASSWORD = 'your_password'
      PG_HOST = 'localhost'
      PG_PORT = '5432'
      PG_DATABASE = 'your_database'
      
      JWT_SECRET = your_secret```
   - The PG variables correspond to your database and should be replaced with your credentials.
   - The JWT_SECRET variable is the secret key with which your json web tokens will be generated. This variable can be generated by running 
     `node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"`, which uses the crypto module in node.js to generate a random 64-byte hexadecimal string.
7. Navigate to the **backend** folder using `cd backend` from the parent folder and run the command `npm start` to start running the server.
8. Navigate to the **app** folder within the frontend folder using `cd frontend/app` from the parent folder and run the command `npm run dev` to launch the app.
The app will be available at http://localhost:5173/.

## Assumptions/Interpretations of Requirements
- Users would already have been registered, so no option for registering new users is provided in the application. The application only lets existing users log in when they enter the right credentials, and displays their information to them.
- Password reset was not mentioned in the requirements, hence password reset is also not given as an option for the users.
- For the dashboard, it is only mentioned that the user's personal information should be displayed, hence the main focus of that page would be the user's profile, but I added the option for the user to log out so that they can ensure their profile is not logged in once they are done. 

## Application Decisions
- The root page is the login page, since that would be the user's entry point into the application.
- If the user tries to navigate directly to the dashboard page using the URL without logging in, then they are redirected to the login page after some delay so that they do not have to manually navigate back.
- Usernames should be unique, so `John` and `john` are treated as separate users.
- NRIC is usually masked to protect user privacy, so in the sample data, NRIC values are represented in the masked format: `TXXXX000A`.
